import{m as n,d as c,C as s}from"./index.b9933fdc.js";window.Alpine=n;n.data("SetupForm",()=>({init(){this.$root.querySelectorAll("input").forEach(e=>{e.addEventListener("keypress",t=>{t.key=="Enter"&&(t.preventDefault(),t.target.closest(".tab-pane").querySelector("button[data-href]").click())}),e.addEventListener("change",t=>{t.target.checkValidity()===!1?t.target.classList.add("input-filled-invalid"):t.target.classList.remove("input-filled-invalid")})}),window.addEventListener("storage",function(e){e.key=="integrations"&&e.newValue&&JSON.parse(e.newValue).name=="mlc"&&($("#integration-mlc").text("Already Configured").attr("disabled",!0),window.focus(),localStorage.removeItem("integrations"))})},validateFileSize(e,t){e.target.files[0].size>t&&(confirm(`This image file is larger than ${t/1e3}KB which may result in increased load times. Are you sure you'd like to use this file?`)||(e.target.value=""))},switchTab(e){let t=!0;if(e.target.closest('[role="tabpanel"]').querySelectorAll("input,textarea").forEach(o=>{o.checkValidity()===!1&&(o.classList.add("input-filled-invalid"),t=!1)}),t==!1)return;let r=e.target.dataset.href,a=this.$root.querySelector(`a[href="${r}"][role="tab"]`);if(a){document.querySelectorAll(".tab-pane").forEach(l=>{l.classList.remove("active"),l.classList.add("hidden")}),document.querySelectorAll('a[role="tab"]').forEach(l=>{l.classList.remove("active","border-primary-500")});let o=document.querySelector(r);o&&(o.classList.remove("hidden"),o.classList.add("active")),a.classList.add("active","border-b-2","border-primary-500")}},setThemeColor(e){document.querySelector("#config-color-input").value=e.target.value},resetThemeColor(e){document.querySelector("#config-color-input").value="",document.querySelector("#config-color-picker").value=""},processDateTime(e){return function(t){let i=document.querySelector(`#${e}-date`),r=document.querySelector(`#${e}-time`),a=c(`${i.value} ${r.value}`,"YYYY-MM-DD HH:mm").unix();isNaN(a)?document.querySelector(`#${e}-preview`).value="":document.querySelector(`#${e}-preview`).value=a}},mlcSetup(){let e=s.config.urlRoot,t={name:document.querySelector("#ctf_name").value,type:"jeopardy",description:document.querySelector("#ctf_description").value,user_mode:document.querySelector("[name=user_mode]:checked").value,event_url:window.location.origin+e,redirect_url:window.location.origin+e+"/redirect",integration_setup_url:window.location.origin+e+"/setup/integrations",start:document.querySelector("#start-preview").value,end:document.querySelector("#end-preview").value,platform:"Sepro",state:window.STATE};const i=[];for(let r in t)i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));window.open("https://www.majorleaguecyber.org/events/new?"+i.join("&"),"_blank")},submitSetup(e){if(document.querySelector("#newsletter-checkbox").checked){let r={email:e.target.querySelector("input[name=email]").value,b_38e27f7d496889133d2214208_d7c3ed71f9:"",c:"jsonp_callback_"+Math.round(1e4*Math.random())};const a=[];for(let o in r)a.push(encodeURIComponent(o)+"="+encodeURIComponent(r[o]));var t=document.createElement("script");t.src="https://newsletters.ctfd.io/lists/ot889gr1sa0e1/subscribe/post-json?"+a.join("&"),document.head.appendChild(t)}}}));n.start();
